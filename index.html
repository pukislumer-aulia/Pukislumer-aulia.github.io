<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pukis Lumer Aulia</title>
</head>
<body style="font-family: 'Segoe UI', sans-serif; line-height: 1.7; padding: 20px; background-color: #fffefb; color: #333;">

  <h1 style="color: #800000;">PUKIS LUMER AULIA</h1>

  <p style="color: #002147;">Assalamu'alaikum warahmatullahi wabarakatuh</p>
  <p style="color: #002147;">Dimanapun kamu insyaAllah berkah, rejeki berlimpah. Aamiin Allahumma Aamiin</p>

  <p style="color: #cc8e8e;">Padang Panjang Kota Kuliner – Serambi Mekkah orang mengenalnya.</p>
  <p style="color: #cc8e8e;">Kalau mampir ke Pasar Kuliner – jangan lupa mampir ke PUKIS LUMER AULIA</p>

  <p><strong style="color: #9370DB;">Jam Operasional:</strong> <span style="color: #9370DB;">16.00 – 23.59 WIB (selama persediaan masih ada)</span></p>
  <p><strong style="color: #6B8E23;">Best Seller:</strong> <span style="color: #6B8E23;">Double Topping Vanilla Oreo vs Coklat Kacang</span></p>
  <p><strong style="color: #800020;">Lokasi:</strong> <span style="color: #800020;">Pasar Kuliner Padang Panjang, dekat Roti Tenonk, depan Aquarium (Cari Gerobak Pink)</span></p>
  <p>Kita tersedia di Maxim Food, Grab Food, dan Go Food!</p>

  <h2 style="color: #f08080;">Kenapa Harus Pukis Lumer Aulia?</h2>
  <p>Pukis kami dibuat dengan resep rahasia keluarga, menghasilkan tekstur super lembut dan rasa yang luar biasa. Tersedia dalam berbagai rasa favorit semua umur!</p>

  <h2 style="color: #2E8B57;">Fakta Unik Tentang Kami</h2>
  <ul style="color: #2E8B57;">
    <li>Adonan spesial rahasia keluarga sejak 2023-an!</li>
    <li>Pukis Lumer Kekinian pertama Hadir di Padang Panjang.</li>
    <li>Lembut sempurna karena teknik pemanggangan tradisional.</li>
    <li>Lebih dari 10+ varian topping setiap harinya selalu Ready.</li>
    <li>Memakai 100% bahan premium tanpa pengawet.</li>
    <li>Jadi jajanan nomor #1 di Pasar Kuliner Padang Panjang!</li>
  </ul>

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pukis Lumer Aulia</title>
  <meta name="description" content="Pukis lumer terenak di Padang Panjang!"/>
  <link rel="stylesheet" href="assets/css/style.css"/>
  <link rel="stylesheet" href="assets/css/form-style.css"/>
  <link rel="stylesheet" href="assets/css/floating-buttons.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Chewy&family=Kanit:wght@900&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body style="font-family: 'Segoe UI', sans-serif; line-height: 1.7; padding: 20px; background-color: #fffefb; color: #333;">

  <div class="page-wrapper">
    <!-- === FORM PEMESANAN === -->
    <h2>Form Pemesanan</h2>
    <form id="orderForm" style="margin-bottom: 40px;">
      <label for="jenisPukis"><strong>Jenis Pukis:</strong></label><br>
      <select name="jenisPukis" id="jenisPukis" required>
        <option value="original">Original</option>
        <option value="pandan">Pandan</option>
      </select><br><br>

      <label for="boxSize"><strong>Ukuran Box:</strong></label><br>
      <select id="boxSize" name="boxSize" required>
        <option value="5">Box Isi 5</option>
        <option value="10">Box Isi 10</option>
      </select><br><br>

      <label><strong>Pilih Jenis Topping:</strong></label><br>
      <input type="radio" name="toppingType" value="none" checked> Tanpa Topping
      <input type="radio" name="toppingType" value="single"> Single
      <input type="radio" name="toppingType" value="double"> Double
      <br><br>

      <div id="toppingSingleGroup" style="display:none;">
        <p><strong>Pilih Topping Single:</strong></p>
        <div id="toppingSingleOptions"></div>
      </div>

      <div id="toppingDoubleGroup" style="display:none;">
        <p><strong>Pilih Topping Double:</strong></p>
        <div id="toppingDoubleOptions"></div>
      </div>

      <br>
      <label for="namaPembeli"><strong>Nama Pembeli:</strong></label><br>
      <input type="text" id="namaPembeli" name="namaPembeli" required><br><br>

      <label for="catatan"><strong>Catatan Tambahan:</strong></label><br>
      <textarea id="catatan" name="catatan" rows="3"></textarea><br><br>

      <button type="submit">Kirim Pesanan</button>
    </form>
  </div>

  <!-- === SCRIPT PEMESANAN === -->
  <script>
    const toppingSingle = ["Keju", "Coklat", "Pandan", "Kacang", "Strawberry"];
    const toppingDouble = ["Coklat + Keju", "Pandan + Kacang", "Coklat + Pandan", "Strawberry + Keju"];
    
    function createCheckboxList(containerId, options, name) {
      const container = document.getElementById(containerId);
      container.innerHTML = "";
      options.forEach((topping, i) => {
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.id = `${name}-${i}`;
        checkbox.name = name;
        checkbox.value = topping;

        checkbox.addEventListener("change", limitSelection);

        const label = document.createElement("label");
        label.htmlFor = checkbox.id;
        label.textContent = topping;

        const wrapper = document.createElement("div");
        wrapper.appendChild(checkbox);
        wrapper.appendChild(label);
        container.appendChild(wrapper);
      });
    }

    function limitSelection() {
      const isiBox = parseInt(document.getElementById("boxSize").value);
      const singleCheckboxes = document.querySelectorAll("input[name='singleTopping']");
      const doubleCheckboxes = document.querySelectorAll("input[name='doubleTopping']");

      const singleChecked = Array.from(singleCheckboxes).filter(cb => cb.checked);
      const doubleChecked = Array.from(doubleCheckboxes).filter(cb => cb.checked);

      singleCheckboxes.forEach(cb => cb.disabled = !cb.checked && singleChecked.length >= isiBox);
      doubleCheckboxes.forEach(cb => cb.disabled = !cb.checked && doubleChecked.length >= isiBox);
    }

    function updateToppingVisibility() {
      const selected = document.querySelector("input[name='toppingType']:checked")?.value;
      const singleGroup = document.getElementById("toppingSingleGroup");
      const doubleGroup = document.getElementById("toppingDoubleGroup");

      if (selected === "none") {
        singleGroup.style.display = "none";
        doubleGroup.style.display = "none";
      } else if (selected === "single") {
        singleGroup.style.display = "block";
        doubleGroup.style.display = "none";
        createCheckboxList("toppingSingleOptions", toppingSingle, "singleTopping");
      } else if (selected === "double") {
        singleGroup.style.display = "block";
        doubleGroup.style.display = "block";
        createCheckboxList("toppingSingleOptions", toppingSingle, "singleTopping");
        createCheckboxList("toppingDoubleOptions", toppingDouble, "doubleTopping");
      }
    }

    function validateTopping() {
      const isiBox = parseInt(document.getElementById("boxSize").value);
      const tipe = document.querySelector("input[name='toppingType']:checked")?.value;

      if (tipe === "single") {
        const count = document.querySelectorAll("input[name='singleTopping']:checked").length;
        if (count > isiBox) {
          alert("Topping single melebihi isi box!");
          return false;
        }
      }

      if (tipe === "double") {
        const countSingle = document.querySelectorAll("input[name='singleTopping']:checked").length;
        const countDouble = document.querySelectorAll("input[name='doubleTopping']:checked").length;
        if (countSingle > isiBox || countDouble > isiBox) {
          alert("Topping single atau double melebihi isi box!");
          return false;
        }
      }

      return true;
    }

    function calculatePrice() {
      const jenis = document.getElementById("jenisPukis").value;
      const isi = parseInt(document.getElementById("boxSize").value);
      const toppingType = document.querySelector("input[name='toppingType']:checked")?.value;

      let price = 0;
      if (jenis === "original") {
        if (toppingType === "none") {
          price = (isi === 5) ? 10000 : 18000;
        } else if (toppingType === "single") {
          price = (isi === 5) ? 13000 : 25000;
        } else if (toppingType === "double") {
          price = (isi === 5) ? 15000 : 28000;
        }
      } else if (jenis === "pandan") {
        if (toppingType === "none") {
          price = (isi === 5) ? 12000 : 22000;
        } else if (toppingType === "single") {
          price = (isi === 5) ? 15000 : 28000;
        } else if (toppingType === "double") {
          price = (isi === 5) ? 18000 : 32000;
        }
      }
      return price;
    }

    // === Kirim ke WhatsApp ===
    document.getElementById("orderForm").addEventListener("submit", function (e) {
      e.preventDefault();
      if (!validateTopping()) return;

      const jenis = document.getElementById("jenisPukis").value;
      const isi = document.getElementById("boxSize").value;
      const nama = document.getElementById("namaPembeli").value;
      const catatan = document.getElementById("catatan").value || "-";
      const toppingType = document.querySelector("input[name='toppingType']:checked")?.value;

      let toppingList = [];

      if (toppingType === "single") {
        toppingList = Array.from(document.querySelectorAll("input[name='singleTopping']:checked")).map(cb => cb.value);
      } else if (toppingType === "double") {
        const single = Array.from(document.querySelectorAll("input[name='singleTopping']:checked")).map(cb => cb.value);
        const double = Array.from(document.querySelectorAll("input[name='doubleTopping']:checked")).map(cb => cb.value);
        toppingList = [...single, ...double];
      } else {
        toppingList = ["Tanpa Topping"];
      }

      const price = calculatePrice();
      const pesan = `Halo Pukis Lumer Aulia! Saya ingin memesan:\n\n` +
                    `Nama Pembeli: ${nama}\n` +
                    `Jenis Pukis: ${jenis}\n` +
                    `Ukuran Box: ${isi} pcs\n` +
                    `Topping: ${toppingList.join(', ')}\n` +
                    `Catatan: ${catatan}\n` +
                    `Total Harga: Rp${price.toLocaleString()}\n\n` +
                    `Terima kasih!`;

      const encodedPesan = encodeURIComponent(pesan);
      const nomorWA = "6281296668670";
      const waLink = `https://wa.me/${nomorWA}?text=${encodedPesan}`;
      window.open(waLink, '_blank');
    });

    document.querySelectorAll("input[name='toppingType']").forEach(input => {
      input.addEventListener("change", () => {
        updateToppingVisibility();
        limitSelection();
      });
    });

    document.getElementById("boxSize")?.addEventListener("change", () => {
      updateToppingVisibility();
      limitSelection();
    });
  </script>

<div id="testimonials" class="testimonial-wrapper">
  <div class="testimonial-card">
    <p>"Pukisnya enak banget, topingnya beragam, dan sangat lezat!"</p>
    <strong>- Andi</strong>
  </div>
  <div class="testimonial-card">
    <p>"Favorit saya! Rasa dan kualitas tidak diragukan."</p>
    <strong>- Budi</strong>
  </div>
  <div class="testimonial-card">
    <p>"Coklatnya lumer banget, saya ketagihan!"</p>
    <strong>- Citra</strong>
  </div>
  <div class="testimonial-card">
    <p>"Lembut, banyak pilihan topping, dan harga terjangkau."</p>
    <strong>- Dewi</strong>
  </div>
  <div class="testimonial-card">
    <p>"Pukis Pandannya cocok banget buat teman ngopi!"</p>
    <strong>- Eka</strong>
  </div>
</div>

</body>
</html>
