<div class="form-order">
  <h2>Form Pemesanan Langsung</h2>
  <form id="orderForm" action="https://formsubmit.co/your-email@example.com" method="POST">
    
    <input type="text" name="Nama" placeholder="Nama Lengkap" required>
    <input type="tel" name="Nomor" placeholder="Nomor WhatsApp" required>

    <h3>Pilih Ukuran Box</h3>
    <select name="Box" id="boxSize" required>
      <option value="">-- Pilih Box --</option>
      <option value="Box Kecil">Box Kecil (5 pcs)</option>
      <option value="Box Besar">Box Besar (10 pcs)</option>
    </select>

    <h3>Pilih Varian Single Topping</h3>
    <div class="single-topping">
      <label><input type="checkbox" name="Single Topping[]" value="Coklat"> Coklat</label><br>
      <label><input type="checkbox" name="Single Topping[]" value="Tiramisu"> Tiramisu</label><br>
      <label><input type="checkbox" name="Single Topping[]" value="Vanilla"> Vanilla</label><br>
      <label><input type="checkbox" name="Single Topping[]" value="Stroberi"> Stroberi</label><br>
      <label><input type="checkbox" name="Single Topping[]" value="Cappucino"> Cappucino</label><br>
      <label><input type="checkbox" name="Single Topping[]" value="Taro"> Taro</label><br>
      <label><input type="checkbox" name="Single Topping[]" value="Matcha"> Matcha</label><br>
    </div>

    <h3>Pilih Varian Double Topping</h3>
    <div class="double-topping">
      <label><input type="checkbox" name="Double Topping[]" value="Coklat + bebas topping"> Coklat + bebas topping</label><br>
      <label><input type="checkbox" name="Double Topping[]" value="Tiramisu + bebas topping"> Tiramisu + bebas topping</label><br>
      <label><input type="checkbox" name="Double Topping[]" value="Vanilla + bebas topping"> Vanilla + bebas topping</label><br>
      <label><input type="checkbox" name="Double Topping[]" value="Stroberi + bebas topping"> Stroberi + bebas topping</label><br>
      <label><input type="checkbox" name="Double Topping[]" value="Cappucino + bebas topping"> Cappucino + bebas topping</label><br>
      <label><input type="checkbox" name="Double Topping[]" value="Taro + bebas topping"> Taro + bebas topping</label><br>
      <label><input type="checkbox" name="Double Topping[]" value="Matcha + bebas topping"> Matcha + bebas topping</label><br>
    </div>

    <textarea name="Catatan" placeholder="Catatan Tambahan (contoh: campur single & double topping, atau topping favorit)"></textarea>

    <button type="submit">Kirim Pesanan</button>
  </form>
</div>

<script>
  const form = document.getElementById('orderForm');
  const boxSize = document.getElementById('boxSize');

  form.addEventListener('submit', function(event) {
    const singleToppings = document.querySelectorAll('input[name="Single Topping[]"]:checked');
    const doubleToppings = document.querySelectorAll('input[name="Double Topping[]"]:checked');
    const totalSelected = singleToppings.length + doubleToppings.length;
    let maxToppings = 0;

    if (boxSize.value === "Box Kecil") {
      maxToppings = 5;
    } else if (boxSize.value === "Box Besar") {
      maxToppings = 10;
    } else {
      alert("Pilih ukuran Box terlebih dahulu!");
      event.preventDefault();
      return;
    }

    if (totalSelected === 0) {
      alert("Pilih minimal 1 varian topping!");
      event.preventDefault();
    } else if (totalSelected > maxToppings) {
      alert("Maksimal " + maxToppings + " varian topping untuk " + boxSize.options[boxSize.selectedIndex].text);
      event.preventDefault();
    } else if (totalSelected < maxToppings) {
      const confirmProceed = confirm("Kamu memilih kurang dari " + maxToppings + " varian, lanjutkan?");
      if (!confirmProceed) {
        event.preventDefault();
      }
    }
  });
</script>
